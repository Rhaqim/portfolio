---
import PageTransitions from "@components/Arcade/PageTransitions.svelte";

import "@styles/arcade.css";

function handleNavigate(event: any, href: string) {
	const overlay = document.querySelector("div"); // (PageTransition div)
	if (overlay) {
		overlay.style.display = "block"; // Show the transition
		overlay.style.opacity = "1";
	}

	setTimeout(() => {
		window.location.href = href;
	}, 400); // match the transition duration
}
---

<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<title>Arcade Nostalgia</title>
		<link
			href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
			rel="stylesheet"
		/>
	</head>
	<body style="background-color: #000;">
		<nav
			style="display: flex; justify-content: center; gap: 20px; margin-top: 20px;"
		>
			<a href="/" on:click|preventDefault={(e: any) => handleNavigate(e, "/")}
				>Home</a
			>
			<a
				href="/games"
				on:click|preventDefault={(e: any) => handleNavigate(e, "/games")}
				>Games</a
			>
			<a
				href="/blog"
				on:click|preventDefault={(e: any) => handleNavigate(e, "/blog")}>Blog</a
			>
			<a
				href="/about"
				on:click|preventDefault={(e: any) => handleNavigate(e, "/about")}
				>About</a
			>
		</nav>

		<main style="max-width: 1200px; margin: 0 auto; padding: 2rem;">
			<slot />
		</main>

		<!-- <PageTransitions /> -->
	</body>
</html>
